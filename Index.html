<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Choose Your Own Adventure: Enchanted Bonds</title>
<style>
  body {
    background: #1a1a2e;
    color: #e0d4f7;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 700px;
    margin: 2rem auto;
    padding: 1rem;
    line-height: 1.5;
  }
  h1, h2 {
    text-align: center;
    color: #c2a7e0;
  }
  img.character {
    display: block;
    max-width: 100%;
    margin: 1rem auto;
    border-radius: 10px;
    box-shadow: 0 0 15px #6a5acd99;
  }
  .choice-btn {
    background: #6a5acd;
    border: none;
    border-radius: 6px;
    color: white;
    padding: 12px 20px;
    margin: 8px 0;
    width: 100%;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .choice-btn:hover {
    background: #5a47b8;
  }
  #game-container {
    margin-top: 2rem;
  }
</style>
</head>
<body>

<h1>Enchanted Bonds</h1>
<div id="game-container"></div>

<script>
  // Store player's chosen name here
  let playerName = '';

  // Game state
  let currentScene = 'start';

  // Scenes data
  const scenes = {
    start: {
      text: `You walk alone through the dense forest, heart pounding, every shadow seeming to move with a threat. Your hands tremble slightly, but you try to steady your breath. Suddenly, you collide with a tall figure cloaked in darkness, the Forest Guardian. His cold eyes pierce through you, unyielding and cruel.

"Who dares trespass here?" he asks sharply.

You can barely hide your fear, forcing a brave smile despite your pounding heart.`,
      image: 'FoerstGuardian.jpg.jpg',
      choices: [
        { text: "Apologize softly and explain you're lost.", next: "apologize" },
        { text: "Stand your ground and demand to know who he is.", next: "standGround" },
        { text: "Try to slip past him quickly before he reacts.", next: "slipPast" }
      ]
    },

    apologize: {
      text: `You lower your gaze, voice soft but steady. "I'm sorry... I'm lost. I didn't mean to intrude."

He narrows his eyes but doesn't move to attack. "Lost? In my forest? You should be more careful."

From the corner of your eye, another figure appears â€” the Sorcerer, his gaze equally cold but curious.`,
      image: 'Sorcerer.jpg.jpg',
      choices: [
        { text: "Look to the Sorcerer and nod in greeting.", next: "nodToSorcerer" },
        { text: "Focus back on the Guardian, trying to gain his trust.", next: "gainTrust" },
      ]
    },

    standGround: {
      text: `You meet the Guardian's cold stare without flinching. "Who are you to bar my path? I have as much right to be here as you."

His lips curl into a small, almost amused smirk. "Bold. But foolish."

The Sorcerer steps forward silently, observing you intently.`,
      image: 'FoerstGuardian.jpg.jpg',
      choices: [
        { text: "Challenge the Sorcerer as well, demanding his purpose.", next: "challengeSorcerer" },
        { text: "Try to defuse the tension with a soft smile.", next: "softSmile" }
      ]
    },

    slipPast: {
      text: `Your heart races as you try to move past the Guardian, but his hand shoots out, grabbing your arm with surprising strength.

"You can't escape," he hisses, his cold breath brushing your cheek.

The Sorcerer steps beside him, eyes locked on you like a predator sizing up prey.`,
      image: 'FoerstGuardian.jpg.jpg',
      choices: [
        { text: "Pull your arm free and run deeper into the forest.", next: "runDeeper" },
        { text: "Stay calm and ask what they want from you.", next: "askWhatWant" }
      ]
    },

    // More scenes would follow here...

    // Example of name input and usage
    askName: {
      text: `Before we continue, what is your name, brave wanderer?`,
      choices: [
        { text: "Enter your name:", input: true, next: "nameEntered" }
      ]
    },

    nameEntered: {
      text: () => `Welcome, ${playerName}. The forest watches you closely.`,
      choices: [
        { text: "Continue", next: "start" }
      ]
    }
  };

  const container = document.getElementById('game-container');

  // Render scene
  function renderScene(sceneKey) {
    currentScene = sceneKey;
    const scene = scenes[sceneKey];

    container.innerHTML = '';

    // Display image if exists
    if(scene.image){
      const img = document.createElement('img');
      img.src = scene.image;
      img.alt = 'Character Image';
      img.className = 'character';
      container.appendChild(img);
    }

    // Display scene text (support function if text is function)
    const textPara = document.createElement('p');
    textPara.textContent = typeof scene.text === 'function' ? scene.text() : scene.text;
    container.appendChild(textPara);

    // If the scene requires name input
    if(scene.choices.some(c => c.input)){
      const inputField = document.createElement('input');
      inputField.type = 'text';
      inputField.placeholder = 'Enter your name';
      inputField.style.width = '100%';
      inputField.style.padding = '8px';
      inputField.style.marginTop = '10px';
      container.appendChild(inputField);

      const submitBtn = document.createElement('button');
      submitBtn.textContent = 'Submit';
      submitBtn.className = 'choice-btn';
      container.appendChild(submitBtn);

      submitBtn.addEventListener('click', () => {
        if(inputField.value.trim() === ''){
          alert('Please enter a name to continue.');
          return;
        }
        playerName = inputField.value.trim();
        renderScene('nameEntered');
      });

      return;
    }

    // Render choices as buttons
    scene.choices.forEach(choice => {
      const btn = document.createElement('button');
      btn.className = 'choice-btn';
      btn.textContent = choice.text;
      btn.addEventListener('click', () => {
        renderScene(choice.next);
      });
      container.appendChild(btn);
    });
  }

  // Start the game
  renderScene('askName');
</script>

</body>
</html>
